[
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<h5 class=\"card-title \">> <b>Mes statistiques</b></h5>\n<h6 class=\"card-subtitle mb-2 text-muted\">\n    <p>Statistiques du Mois</p>\n</h6>",
  "modified": "2024-03-29 16:38:07.579830",
  "name": "Mes stats",
  "private": 0,
  "roles": [],
  "script": null,
  "style": null
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div style=\"padding: 10px;\">\n    <table style=\"width: 100%; border-collapse: collapse;\">\n        <tr>\n            \n            <td style=\"text-align: left;\">\n                <button class=\"btn btn-primary btn-xs\" onclick=\"window.location.href='/app/customer/new'\" style=\"margin-right: 10px;\">+ Nouveau Client</button>\n                \n            </td>\n        </tr>\n        <tr>\n            \n            <td style=\"text-align: left;\">\n                <button class=\"btn btn-primary btn-xs\" onclick=\"window.location.href='/app/visite-commerciale/new'\" style=\"margin-right: 10px;\">+ Nouvelle Visite</button>\n                </td>\n        </tr>\n        <tr>\n            \n            <td style=\"text-align: left;\">\n                <button class=\"btn btn-primary btn-xs\" onclick=\"window.location.href='/app/appel-telephonique/new'\" style=\"margin-right: 10px;\">+ Nouvel Appel</button>\n                </td>\n        </tr>\n    </table>\n</div>\n",
  "modified": "2024-08-28 01:40:10.184682",
  "name": "Liens Acceuil",
  "private": 0,
  "roles": [],
  "script": null,
  "style": ".btn {\n    padding: 5px 10px;\n    border: none;\n    cursor: pointer;\n}\n\n.btn-primary {\n    background-color: #007bff;\n    color: white;\n}\n\n.btn-secondary {\n    background-color: #6c757d;\n    color: white;\n}\n\n.btn-xs {\n    padding: 1px 3px;\n    font-size: 0.75em;\n}\n\ntable {\n    width: 100%;\n}\n\ntd {\n    padding: 5px;\n}\n\ntd:nth-child(2) {\n    text-align: left;\n    padding-left: 10px; /* Ajuster l'espacement pour rapprocher les boutons du texte */\n}\n"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div style=\"padding: 10px;\">\n    <h3>Configuration</h3>\n    <ul>\n        <li>\n            <a href=\"/app/customer\">Clients →</a>\n            <button class=\"btn btn-primary btn-xs\">Liste</button>\n            <button class=\"btn btn-secondary btn-xs\">Nouveau</button>\n        </li>\n        <li>\n            <a href=\"/app/opportunite\">Opportunités →</a>\n            <button class=\"btn btn-primary btn-xs\">Liste</button>\n            <button class=\"btn btn-secondary btn-xs\">Nouveau</button>\n        </li>\n        <li>\n            <a href=\"/app/visite-commerciale\">Visites →</a>\n            <button class=\"btn btn-primary btn-xs\">Liste</button>\n            <button class=\"btn btn-secondary btn-xs\">Nouveau</button>\n        </li>\n        <li>\n            <a href=\"/app/appel-telephonique\">Appels →</a>\n            <button class=\"btn btn-primary btn-xs\">Liste</button>\n            <button class=\"btn btn-secondary btn-xs\">Nouveau</button>\n        </li>\n    </ul>\n</div>\n",
  "modified": "2024-08-15 16:38:31.710388",
  "name": "Configuration",
  "private": 0,
  "roles": [],
  "script": null,
  "style": ".btn {\n    padding: 5px 10px;\n    border: none;\n    cursor: pointer;\n}\n\n.btn-primary {\n    background-color: #007bff;\n    color: white;\n}\n\n.btn-secondary {\n    background-color: #6c757d;\n    color: white;\n}\n\n.btn-xs {\n    padding: 1px 3px;\n    font-size: 0.75em;\n}\n"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<nav>\n  <div class=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n    <a class=\"nav-item nav-link active\" id=\"nav-home-tab\" data-toggle=\"tab\" href=\"#nav-home\" role=\"tab\" aria-controls=\"nav-home\" aria-selected=\"true\">Acceuil</a>\n    <a class=\"nav-item nav-link\" id=\"nav-profile-tab\" data-toggle=\"tab\" href=\"#nav-profile\" role=\"tab\" aria-controls=\"nav-profile\" aria-selected=\"false\">CRM</a>\n    <a class=\"nav-item nav-link\" id=\"nav-contact-tab\" data-toggle=\"tab\" href=\"#nav-contact\" role=\"tab\" aria-controls=\"nav-contact\" aria-selected=\"false\">Configuration</a>\n  </div>\n</nav>\n<div class=\"tab-content\" id=\"nav-tabContent\">\n  <div class=\"tab-pane fade show active\" id=\"nav-home\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">...</div>\n  <div class=\"tab-pane fade\" id=\"nav-profile\" role=\"tabpanel\" aria-labelledby=\"nav-profile-tab\">...</div>\n  <div class=\"tab-pane fade\" id=\"nav-contact\" role=\"tabpanel\" aria-labelledby=\"nav-contact-tab\">...</div>\n</div>",
  "modified": "2024-08-15 16:45:47.541187",
  "name": "Test",
  "private": 0,
  "roles": [],
  "script": null,
  "style": null
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "\n                    \n                    <h4 class=\"card-title \"><b>Menu Appels</b></h4>\n\n           \n               \n                    <h6 class=\"card-subtitle mb-2 text-muted\">\n                       \n                             \n                             <p class=\"some-class\" id=\"dateAffichee\"></p>\n\n    \n                             \n                             \n                    </h6>",
  "modified": "2024-08-25 15:54:41.326107",
  "name": "Menu Appels",
  "private": 0,
  "roles": [],
  "script": "// Récupérer la date du jour\nvar dateDuJour = new Date();\n\n// Obtenir les composants de la date\nvar jour = dateDuJour.getDate();\nvar mois = dateDuJour.getMonth() + 1; // Les mois commencent à 0, donc ajout de 1\nvar annee = dateDuJour.getFullYear();\n\n// Formater la date\nvar dateFormatee = jour + '/' + mois + '/' + annee;\n\n// Récupérer l'élément avec la classe \"some-class\" dans le framework Frappe\nvar someClassElement = root_element.querySelector('.some-class');\n\n// Mettre à jour le contenu de l'élément avec la date formatée\nsomeClassElement.textContent = \"Date du jour : \" + dateFormatee;\n",
  "style": "        body {\r\n            font-family: 'Rubik', sans-serif;\r\n            height: 100% !important;\r\n            background-color: #3F51B5 !important;\r\n        }\r\n\r\n\r\n        #star {\r\n            margin-left: -5px !important;\r\n            vertical-align: bottom !important;\r\n            opacity: 0.5;\r\n        }\r\n\r\n\r\n        .more {\r\n            opacity: 0.5 !important;\r\n        }\r\n\r\n        .btn:hover {\r\n            color: black !important;\r\n        }\r\n\r\n        .vl {\r\n            margin: 0px !important;\r\n            width: 2px;\r\n            border-right: 1px solid #aaaaaa;\r\n            height: 25px;\r\n        }\r\n\r\n\r\n        #plus {\r\n            opacity: 0.8;\r\n        }\r\n\r\n\r\n        .card {\r\n            border-radius: 10px !important;\r\n        }\r\n\r\n        a:hover {\r\n            background-color: #ccc !important;\r\n        }\r\n\r\n\r\n\r\n        .btn-outlined:active {\r\n            color: #FFF;\r\n            border-color: #fff !important;\r\n        }\r\n\r\n\r\n        img {\r\n\r\n            cursor: pointer;\r\n            overflow: visible;\r\n        }\r\n\r\n        .btn:focus,\r\n        .btn:active {\r\n            outline: none !important;\r\n            box-shadow: none !important;\r\n        }\r\n\r\n\t.container{\r\n\t   margin-top:0px !important;\r\n\t}\r\n"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "\n                    \n                    <h4 class=\"card-title \"><b>Menu Opportunités</b></h4>\n\n           \n               \n                    <h6 class=\"card-subtitle mb-2 text-muted\">\n                       \n                             \n                             <p class=\"some-class\" id=\"dateAffichee\"></p>\n\n    \n                             \n                             \n                    </h6>",
  "modified": "2024-08-25 15:56:08.939367",
  "name": "Menu Opportunites",
  "private": 0,
  "roles": [],
  "script": "// Récupérer la date du jour\nvar dateDuJour = new Date();\n\n// Obtenir les composants de la date\nvar jour = dateDuJour.getDate();\nvar mois = dateDuJour.getMonth() + 1; // Les mois commencent à 0, donc ajout de 1\nvar annee = dateDuJour.getFullYear();\n\n// Formater la date\nvar dateFormatee = jour + '/' + mois + '/' + annee;\n\n// Récupérer l'élément avec la classe \"some-class\" dans le framework Frappe\nvar someClassElement = root_element.querySelector('.some-class');\n\n// Mettre à jour le contenu de l'élément avec la date formatée\nsomeClassElement.textContent = \"Date du jour : \" + dateFormatee;\n",
  "style": "        body {\r\n            font-family: 'Rubik', sans-serif;\r\n            height: 100% !important;\r\n            background-color: #3F51B5 !important;\r\n        }\r\n\r\n\r\n        #star {\r\n            margin-left: -5px !important;\r\n            vertical-align: bottom !important;\r\n            opacity: 0.5;\r\n        }\r\n\r\n\r\n        .more {\r\n            opacity: 0.5 !important;\r\n        }\r\n\r\n        .btn:hover {\r\n            color: black !important;\r\n        }\r\n\r\n        .vl {\r\n            margin: 0px !important;\r\n            width: 2px;\r\n            border-right: 1px solid #aaaaaa;\r\n            height: 25px;\r\n        }\r\n\r\n\r\n        #plus {\r\n            opacity: 0.8;\r\n        }\r\n\r\n\r\n        .card {\r\n            border-radius: 10px !important;\r\n        }\r\n\r\n        a:hover {\r\n            background-color: #ccc !important;\r\n        }\r\n\r\n\r\n\r\n        .btn-outlined:active {\r\n            color: #FFF;\r\n            border-color: #fff !important;\r\n        }\r\n\r\n\r\n        img {\r\n\r\n            cursor: pointer;\r\n            overflow: visible;\r\n        }\r\n\r\n        .btn:focus,\r\n        .btn:active {\r\n            outline: none !important;\r\n            box-shadow: none !important;\r\n        }\r\n\r\n\t.container{\r\n\t   margin-top:0px !important;\r\n\t}\r\n"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "\n                    \n                    <h4 class=\"card-title \"><b>Menu Clients</b></h4>\n\n           \n               \n                    <h6 class=\"card-subtitle mb-2 text-muted\">\n                       \n                             \n                             <p class=\"some-class\" id=\"dateAffichee\"></p>\n\n    \n                             \n                             \n                    </h6>",
  "modified": "2024-08-25 16:02:38.243599",
  "name": "Menu Clients",
  "private": 0,
  "roles": [],
  "script": "// Récupérer la date du jour\nvar dateDuJour = new Date();\n\n// Obtenir les composants de la date\nvar jour = dateDuJour.getDate();\nvar mois = dateDuJour.getMonth() + 1; // Les mois commencent à 0, donc ajout de 1\nvar annee = dateDuJour.getFullYear();\n\n// Formater la date\nvar dateFormatee = jour + '/' + mois + '/' + annee;\n\n// Récupérer l'élément avec la classe \"some-class\" dans le framework Frappe\nvar someClassElement = root_element.querySelector('.some-class');\n\n// Mettre à jour le contenu de l'élément avec la date formatée\nsomeClassElement.textContent = \"Date du jour : \" + dateFormatee;\n",
  "style": "        body {\r\n            font-family: 'Rubik', sans-serif;\r\n            height: 100% !important;\r\n            background-color: #3F51B5 !important;\r\n        }\r\n\r\n\r\n        #star {\r\n            margin-left: -5px !important;\r\n            vertical-align: bottom !important;\r\n            opacity: 0.5;\r\n        }\r\n\r\n\r\n        .more {\r\n            opacity: 0.5 !important;\r\n        }\r\n\r\n        .btn:hover {\r\n            color: black !important;\r\n        }\r\n\r\n        .vl {\r\n            margin: 0px !important;\r\n            width: 2px;\r\n            border-right: 1px solid #aaaaaa;\r\n            height: 25px;\r\n        }\r\n\r\n\r\n        #plus {\r\n            opacity: 0.8;\r\n        }\r\n\r\n\r\n        .card {\r\n            border-radius: 10px !important;\r\n        }\r\n\r\n        a:hover {\r\n            background-color: #ccc !important;\r\n        }\r\n\r\n\r\n\r\n        .btn-outlined:active {\r\n            color: #FFF;\r\n            border-color: #fff !important;\r\n        }\r\n\r\n\r\n        img {\r\n\r\n            cursor: pointer;\r\n            overflow: visible;\r\n        }\r\n\r\n        .btn:focus,\r\n        .btn:active {\r\n            outline: none !important;\r\n            box-shadow: none !important;\r\n        }\r\n\r\n\t.container{\r\n\t   margin-top:0px !important;\r\n\t}\r\n"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "\n                    \n                    <h4 class=\"card-title \"><b>Menu Visites</b></h4>\n\n           \n               \n                    <h6 class=\"card-subtitle mb-2 text-muted\">\n                       \n                             \n                             <p class=\"some-class\" id=\"dateAffichee\"></p>\n\n    \n                             \n                             \n                    </h6>",
  "modified": "2024-08-25 15:55:49.748180",
  "name": "Menu Visites",
  "private": 0,
  "roles": [],
  "script": "// Récupérer la date du jour\nvar dateDuJour = new Date();\n\n// Obtenir les composants de la date\nvar jour = dateDuJour.getDate();\nvar mois = dateDuJour.getMonth() + 1; // Les mois commencent à 0, donc ajout de 1\nvar annee = dateDuJour.getFullYear();\n\n// Formater la date\nvar dateFormatee = jour + '/' + mois + '/' + annee;\n\n// Récupérer l'élément avec la classe \"some-class\" dans le framework Frappe\nvar someClassElement = root_element.querySelector('.some-class');\n\n// Mettre à jour le contenu de l'élément avec la date formatée\nsomeClassElement.textContent = \"Date du jour : \" + dateFormatee;\n",
  "style": "        body {\r\n            font-family: 'Rubik', sans-serif;\r\n            height: 100% !important;\r\n            background-color: #3F51B5 !important;\r\n        }\r\n\r\n\r\n        #star {\r\n            margin-left: -5px !important;\r\n            vertical-align: bottom !important;\r\n            opacity: 0.5;\r\n        }\r\n\r\n\r\n        .more {\r\n            opacity: 0.5 !important;\r\n        }\r\n\r\n        .btn:hover {\r\n            color: black !important;\r\n        }\r\n\r\n        .vl {\r\n            margin: 0px !important;\r\n            width: 2px;\r\n            border-right: 1px solid #aaaaaa;\r\n            height: 25px;\r\n        }\r\n\r\n\r\n        #plus {\r\n            opacity: 0.8;\r\n        }\r\n\r\n\r\n        .card {\r\n            border-radius: 10px !important;\r\n        }\r\n\r\n        a:hover {\r\n            background-color: #ccc !important;\r\n        }\r\n\r\n\r\n\r\n        .btn-outlined:active {\r\n            color: #FFF;\r\n            border-color: #fff !important;\r\n        }\r\n\r\n\r\n        img {\r\n\r\n            cursor: pointer;\r\n            overflow: visible;\r\n        }\r\n\r\n        .btn:focus,\r\n        .btn:active {\r\n            outline: none !important;\r\n            box-shadow: none !important;\r\n        }\r\n\r\n\t.container{\r\n\t   margin-top:0px !important;\r\n\t}\r\n"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div class=\"div\">\n<img src=\"/files/logo_aures387df1.png\" width=\"225px\" height=\"60px\" alt=\"Aures Emballages\">\n<p class=\"nom\"></p>\n<h6 class=\"card-subtitle mb-2 text-muted\">\n<p class=\"some-class\" id=\"dateAffichee\"></p>\n</h6>\n</div>",
  "modified": "2024-11-15 11:04:55.464214",
  "name": "CRM Accueil",
  "private": 0,
  "roles": [],
  "script": "// Récupérer la date du jour\nvar dateDuJour = new Date();\n\n// Obtenir les composants de la date\nvar jour = dateDuJour.getDate();\nvar mois = dateDuJour.getMonth() + 1; // Les mois commencent à 0, donc ajout de 1\nvar annee = dateDuJour.getFullYear();\nvar title = frappe.session.user_fullname;\n\n// Formater la date\nvar dateFormatee = jour + '/' + mois + '/' + annee;\n\n// Récupérer l'élément avec la classe \"some-class\" dans le framework Frappe\nvar someClassElement = root_element.querySelector('.some-class');\nvar nom = root_element.querySelector('.nom');\n\n// Mettre à jour le contenu de l'élément avec la date formatée\n\nnom.innerHTML = \"Bonjour <strong>\" + title + \"</strong>\";\nsomeClassElement.innerHTML = dateFormatee;\n",
  "style": ".div {\n    background-color: #457B9D;\n    border: 0.5px solid lightgray;\n    padding: 0px;\n    white-space: nowrap;\n    border-radius: 10px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    color: white;\n}\n\n.some-class {\n    color: white; /* Assure que la date est en blanc */\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div id=\"customer-list\"></div>\n",
  "modified": "2024-12-26 19:09:37.410393",
  "name": "Liste Clients",
  "private": 0,
  "roles": [],
  "script": "frappe.call({\n    method: \"frappe.client.get_list\",\n    args: {\n        doctype: \"Customer\",\n        fields: [\"name\", \"customer_name\", \"custom_status\", \"custom_wilaya\", \"modified\"],\n        order_by: \"modified desc\",\n        limit: 5\n    },\n    callback: function(r) {\n        // Utilisez root_element pour cibler l'élément\n        var customerListElement = root_element.querySelector('#customer-list');\n        if (!customerListElement) {\n            console.error('Élément #customer-list introuvable dans root_element.');\n            return;\n        }\n        if (r.message && r.message.length > 0) {\n            var customers = r.message.slice(0, 5);\n            var html = '<div id=\"customers-table-container\">';\n            html += '<table id=\"customers-table\">';\n            html += '<thead><tr>';\n            html += '<th>Nom du Client</th>';\n            html += '<th>Statut</th>';\n            html += '<th>Wilaya</th>';\n            html += '<th>Dernière Interaction</th>';\n            html += '</tr></thead><tbody>';\n            customers.forEach(function(customer) {\n                // Détermine la couleur basée sur le statut\n                var statusColor = '';\n                switch (customer.custom_status) {\n                    case 'Prospect':\n                        statusColor = 'color: blue;';\n                        break;\n                    case 'Actif':\n                        statusColor = 'color: green;';\n                        break;\n                    case 'Dormant':\n                        statusColor = 'color: orange;';\n                        break;\n                    case 'Perdu':\n                        statusColor = 'color: red;';\n                        break;\n                    case 'Exclu':\n                        statusColor = 'color: gray;';\n                        break;\n                    default:\n                        statusColor = 'color: black;';\n                }\n\n                // Formate la date pour une meilleure lisibilité\n                var formattedDate = formatDate(customer.modified);\n\n                // Ajoute une ligne cliquable avec l'URL du client\n                html += `\n                    <tr class=\"clickable-row\" onclick=\"window.location.href='/app/customer/${customer.name}'\">\n                        <td>${customer.customer_name || '-'}</td>\n                        <td style=\"${statusColor}\">${customer.custom_status || '-'}</td>\n                        <td>${customer.custom_wilaya || '-'}</td>\n                        <td>${formattedDate || '-'}</td>\n                    </tr>\n                `;\n            });\n            html += '</tbody></table></div>';\n            customerListElement.innerHTML = html;\n        } else {\n            customerListElement.innerHTML = 'Aucun client trouvé.';\n        }\n    },\n    error: function(err) {\n        var customerListElement = root_element.querySelector('#customer-list');\n        if (customerListElement) {\n            customerListElement.innerHTML = 'Erreur lors du chargement des données.';\n        }\n        console.error('Erreur lors du chargement des données :', err);\n    }\n});\n\n// Fonction pour reformater une date au format DD/MM/YYYY HH:MM\nfunction formatDate(dateString) {\n    if (!dateString) return '';\n    var date = new Date(dateString);\n    var day = String(date.getDate()).padStart(2, '0');\n    var month = String(date.getMonth() + 1).padStart(2, '0'); // Les mois commencent à 0\n    var year = date.getFullYear();\n    var hours = String(date.getHours()).padStart(2, '0');\n    var minutes = String(date.getMinutes()).padStart(2, '0');\n    return `${day}/${month}/${year} ${hours}:${minutes}`;\n}\n",
  "style": "#customers-table-container {\n    overflow-x: auto; /* Scroll horizontal si nécessaire */\n    margin-bottom: 15px; /* Espace pour un affichage propre */\n}\n\n#customers-table {\n    border-collapse: separate; /* Permet d'appliquer des bordures arrondies */\n    border-spacing: 0; /* Pas d'espace entre les cellules */\n    width: 100%;\n    border: 0.5px solid rgba(211, 211, 211, 0.6); /* Bordure fine en couleur claire */\n    border-radius: 8px; /* Coins arrondis */\n    overflow: hidden; /* S'assure que les coins arrondis s'appliquent correctement */\n    font-size: 12px;\n}\n\n#customers-table th,\n#customers-table td {\n    border: 0.5px solid rgba(211, 211, 211, 0.6); /* Bordure fine autour des cellules */\n    padding: 8px;\n    text-align: center;\n}\n\n#customers-table th {\n    background-color: #f9f9f9; /* Fond clair pour l'en-tête */\n    font-weight: bold; /* Texte en gras */\n}\n\n#customers-table tbody tr:hover {\n    background-color: #f2f2f2; /* Fond léger au survol */\n}\n\n/* Coins arrondis spécifiques */\n#customers-table thead tr:first-child th:first-child {\n    border-top-left-radius: 8px; /* Coin en haut à gauche */\n}\n\n#customers-table thead tr:first-child th:last-child {\n    border-top-right-radius: 8px; /* Coin en haut à droite */\n}\n\n#customers-table tbody tr:last-child td:first-child {\n    border-bottom-left-radius: 8px; /* Coin en bas à gauche */\n}\n\n#customers-table tbody tr:last-child td:last-child {\n    border-bottom-right-radius: 8px; /* Coin en bas à droite */\n}\n\n/* Style pour les lignes cliquables */\n.clickable-row {\n    cursor: pointer; /* Change le curseur pour indiquer que la ligne est cliquable */\n    transition: background-color 0.3s; /* Ajoute une transition pour l'effet de survol */\n}\n\n.clickable-row:hover {\n    background-color: #f2f2f2; /* Change le fond au survol */\n}\n"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div class=\"header-container\">\n  <div class=\"user-image-container\">\n    <img id=\"imageUser\" class=\"user-image\" alt=\"User Image\" />\n  </div>\n  <div class=\"text-content\">\n    <h1 class=\"title nom\"></h1> <!-- Titre dynamique pour le nom -->\n    <p class=\"subtitle\">Bienvenue sur <strong>IntraPro ERP</strong> 🚀</p>\n  </div>\n  <div class=\"date-content\">\n    <p class=\"date some-class\"></p> <!-- Date dynamique -->\n    <div class=\"icon\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"1\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M8 7V3m8 4V3m-6 8h6M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n      </svg>\n    </div>\n  </div>\n</div>\n\n",
  "modified": "2025-01-06 11:39:17.567846",
  "name": "Accueil",
  "private": 0,
  "roles": [],
  "script": "// Récupérer la date du jour\nvar dateDuJour = new Date();\n\n// Obtenir les composants de la date\nvar jour = dateDuJour.getDate();\nvar mois = dateDuJour.getMonth() + 1; // Les mois commencent à 0, donc ajout de 1\nvar annee = dateDuJour.getFullYear();\nvar title = frappe.session.user_fullname;\n\n// Formater la date\nvar dateFormatee = jour + '/' + mois + '/' + annee;\n\n// Récupérer l'élément avec la classe \"some-class\" dans le framework Frappe\nvar someClassElement = root_element.querySelector('.some-class');\nvar nom = root_element.querySelector('.nom');\n\n// Mettre à jour le contenu de l'élément avec la date formatée\n\nnom.innerHTML = \"Bonjour <strong>\" + title + \"</strong>\";\nsomeClassElement.innerHTML = dateFormatee;\n\nfrappe.call({\n    method: \"frappe.client.get\",\n    args: {\n        doctype: \"User\",\n        name: frappe.session.user, // Récupérer l'utilisateur connecté\n    },\n    callback(r) {\n        if (r.message) {\n            const userImageContainer = root_element.querySelector('.user-image-container');\n            const userImageElement = root_element.querySelector('#imageUser');\n\n            // Supprimer les enfants existants (au cas où)\n            userImageContainer.innerHTML = \"\";\n\n            // Récupérer l'image de l'utilisateur\n            var userImageURL = r.message.user_image;\n\n            // Vérifier si l'image existe\n            if (userImageURL) {\n                // Afficher l'image utilisateur\n                userImageElement.src = userImageURL;\n                userImageElement.style.display = \"block\";\n                userImageContainer.appendChild(userImageElement);\n            } else {\n                // Générer un avatar avec les initiales\n                const fullName = r.message.full_name || frappe.session.user_fullname || \"Utilisateur\";\n                const initials = fullName.split(\" \").map(word => word[0]).join(\"\").slice(0, 2);\n\n                // Créer l'élément avatar\n                const avatarElement = document.createElement(\"div\");\n                avatarElement.className = \"user-avatar\";\n                avatarElement.innerText = initials;\n\n                userImageContainer.appendChild(avatarElement);\n            }\n        }\n    }\n});\n",
  "style": "/* Conteneur principal */\n.header-container {\n  display: flex;\n  flex-wrap: wrap; /* Permet aux éléments de passer à la ligne si nécessaire */\n  align-items: center; /* Aligne les éléments verticalement au centre */\n  background-color: #ffffff; /* Fond blanc */\n  padding: 1rem; /* Espacement interne */\n  border-radius: 0.75rem; /* Coins arrondis */\n  border: 0.5px solid #e5e7eb; /* Bordure grise très fine */\n  width: 100%;\n  gap: 1rem; /* Espacement entre les sections */\n  box-sizing: border-box; /* Inclut le padding dans la largeur totale */\n}\n\n/* Conteneur de l'image utilisateur */\n.user-image-container {\n  flex: 0 0 auto; /* Ne s'étire pas */\n  width: 3rem; /* Taille ajustée */\n  height: 3rem;\n  border-radius: 50%;\n  overflow: hidden;\n  border: 0.5px solid #e5e7eb;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n/* Image utilisateur */\n.user-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n/* Avatar utilisateur */\n.user-avatar {\n  width: 3rem;\n  height: 3rem;\n  border-radius: 50%;\n  background-color: #457b9d;\n  color: #ffffff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1rem;\n  font-weight: 600;\n  text-transform: uppercase;\n}\n\n/* Contenu textuel */\n.text-content {\n  flex: 1; /* Prend tout l'espace restant */\n  display: flex;\n  flex-direction: column; /* Affiche le texte en colonne */\n  justify-content: center;\n  text-align: left; /* Aligne le texte à gauche */\n  gap: 0.2rem; /* Réduction de l'espacement entre les lignes */\n}\n\n.title {\n  font-size: 1rem; /* Taille réduite */\n  font-weight: 600; /* Gras */\n  color: #1f2937; /* Couleur sombre */\n  margin: 0;\n}\n\n.subtitle {\n  font-size: 0.8rem;\n  font-weight: 400;\n  color: #6b7280;\n  margin: 0;\n}\n\n/* Contenu de la date */\n.date-content {\n  flex: 0 0 auto; /* Ne s'étire pas */\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-left: auto;\n}\n\n.date {\n  font-size: 0.8rem;\n  font-weight: 400;\n  color: #1f2937;\n  margin: 0;\n  white-space: nowrap;\n}\n\n/* Icône */\n.icon {\n  width: 1.5rem;\n  height: 1.5rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #f3f4f6;\n  border-radius: 50%;\n  color: #1f2937;\n}\n\n/* Média queries */\n@media (max-width: 768px) {\n  .header-container {\n    flex-wrap: nowrap; /* Empêche les éléments de passer à la ligne */\n    text-align: left; /* Texte aligné à gauche */\n    gap: 1rem; /* Espacement suffisant entre les sections */\n  }\n\n  .text-content {\n    text-align: left; /* Aligne toujours le texte à gauche */\n  }\n\n  .date-content {\n    margin-left: auto; /* Place la date à l'extrémité droite */\n  }\n}\n\n@media (max-width: 480px) {\n  .header-container {\n    flex-direction: column; /* Sur très petits écrans, tout passe en colonne */\n    align-items: flex-start; /* Aligne les éléments à gauche */\n  }\n\n  .text-content {\n    text-align: left; /* Assure que le texte reste aligné à gauche */\n    gap: 0.5rem; /* Espacement réduit entre le titre et le sous-titre */\n  }\n\n  .date-content {\n    margin-left: 0; /* Supprime l'espacement gauche */\n    justify-content: flex-start; /* Aligne la date à gauche */\n  }\n}\n"
 }
]